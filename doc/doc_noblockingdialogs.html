<html>
<head>
<title>Why there are no blocking dialogs in KVIrc ?</title>
<style type="text/css">
body {
 font-size: 11pt;
 margin-left: 8px;
 margin-right: 8px;
 margin-top: 6px;
 margin-bottom: 6px;
 font-family:Helvetica,Arial,Verdana;
}
</style>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
</head>
<body bgcolor="#FFFFFF" text="#000000">
<table width="100%" cellpadding="1" cellspacing="0" border="0">
 <tr>
  <td align="left" bgcolor="#FFFFFF">
    <a href="index.html"><img src="helplogoleft.png" iorder="0"></a>
  </td>
  <td align="right" bgcolor="#FFFFFF">
    <img src="helplogoright.png">
  </td>
 </tr>
</table>
<table width="100%" cellpadding="3" cellspacing="1" border="0">
  <tr bgcolor="#BEBEF0">
    <td>
      <font color="#31507B">
      <h1>Why there are no blocking dialogs in KVIrc ?</h1>
Tecnical answer
      </font>
    </td>
  </tr>
  <tr bgcolor="#D2D2D2">
    <td><b>Description</b></td>
  </tr>
  <tr bgcolor="#EAEAEA">
    <td>Why there are no blocking dialogs in <a href="doc_kvircintro.html">KVIrc</a> ?<br>
The answer is simple: because they're more confusing and tricky than it seems.<br>
Blocking the entire program control flow while showing a dialog is
rather a bad idea since we have to deal with external entities (servers and other users)
that are NOT blocked. This means that the blocking dialogs must block only the
<a href="doc_kvs_basicconcepts.html">script</a> control-flow but let the rest of the application running.
Such blocking dialogs actually seem to simplify scripting because
the programmer "feels" that the control is always left in the <a href="doc_kvs_basicconcepts.html">script</a> snippet that he is writing.
This is actually confusing: the control IS in the <a href="doc_kvs_basicconcepts.html">script</a> snippet but while the dialog
is open the whole world can change: you can return from the dialog call and discover
that the <a href="doc_ircintro.html">server</a> connection no longer exists and the application is about to quit.<br>
This may happen even with non-blocking dialogs ,but in non-blocking mode you have
a way to handle this <a href="doc_events.html">event</a>. Consider the following snippet of code:<br>
<p><table width="100%" cellpadding="3" cellspacing="1" border="0" bgcolor="#D5D5D5"><tr><td bgcolor="#F5F5F5"><pre><code><font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;echo My name is $?
</font></code></pre></td></tr></table></p>
Where $? stands for a blocking <a href="class_painter.html">input</a> dialog that asks the user for some text.<br>
When the <a href="class_painter.html">input</a> dialog returns the window that the echo was directed to no longer
exists and you have no way to stop the echo! (Well...I could add extra code
in the executable to handle all these situations but that would be really too expensive).<br>
With <a href="doc_objects.html">object scripting</a> this is actually dangerous: you might use a blocking dialog
in an <a href="class_object.html">object</a> signal handler and when returning discover that this <a href="class_object.html">object</a> has been deleted!
(The example refers to a simple <a href="class_object.html">object</a> , but think about a complex hierarchy of <a href="doc_objects.html">objects</a>
where one random gets deleted...).<br>
This is why the dialogs in <a href="doc_kvircintro.html">KVIrc</a> are non-blocking :)<br>
That's REAL programming.
</td>
  </tr>
</table>
<hr><a href="index.html">Index</a>, <a href="doc_generic_index_all.html">Miscellaneous</a>
<hr>KVIrc 4.0.0 Documentation<br>Generated by hellvis69 at Wed May 19 22:52:41 2010
</body>
</html>
